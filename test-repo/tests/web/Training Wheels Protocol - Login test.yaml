description: |
  Navigate in the Training Wheels Protocol website and test the login feature
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the Training Wheels Protocol homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/

          - description: Click the login link in the page
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/login']"}

          - description: Typing wrong login
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: userId }
              text: LoginErrado

          - description: Typing wrong password
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: passId }
              text: senhaErrada

          - description: Click in the Login button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class*='btn-login']" }

          - description: Validate that user not exists message is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "flash" }
              textContains: "O usuário informado não está cadastrado!"

          - description: Verify that message is displayed in red
            action: org.getopentest.selenium.AssertElementHasClass
            args:
              locator: { id: flash }
              class: error

          ###

          - description: Typing correct login
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: userId }
              text: stark

          - description: Typing correct password
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: passId }
              text: jarvis!

          - description: Click in the Login button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class*='btn-login']" }

          - description: Validate that user loged message is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "flash" }
              textContains: "Olá, Tony Stark. Você acessou a área logada!"

          - description: Verify that message is displayed in green
            action: org.getopentest.selenium.AssertElementHasClass
            args:
              locator: { id: flash }
              class: success

          - description: Click the logout button
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/logout']"}

          - description: Validate that logout message is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "flash" }
              textContains: "Você saiu da área logada!"

          - description: Verify that message is displayed in green
            action: org.getopentest.selenium.AssertElementHasClass
            args:
              locator: { id: flash }
              class: success
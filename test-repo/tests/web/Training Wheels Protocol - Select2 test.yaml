description: |
  Navigate in the Training Wheels Protocol website and test the select2 input
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the Training Wheels Protocol homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/

          - description: Click the select2 link in the page
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/apps/select2/single.html']"}

          - description: Opening the dropdown menu
            action: org.getopentest.selenium.Click
            args:
              locator: { xpath: "//span[contains(@id, 'select2-')]/../span[contains(@role, 'presentation')]" }

          - description: Select actor "Kevin James" in the list
            action: org.getopentest.selenium.Click
            args:
              locator: { xpath: "//li[contains(text(),'Kevin James')]" }

          - description: Validate that the "Kevin James" is displayed in the input
            action: org.getopentest.selenium.AssertAttributeValue
            args:
              locator: { xpath: "//span[contains(@id, 'select2-')]" }
              attribute: title
              value: Kevin James

          - description: Validate that index 4 is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { css: "p[class*='ng-binding']" }
              textContains: "Ator selecionado: 4"

          - description: Opening the dropdown menu
            action: org.getopentest.selenium.Click
            args:
              locator: { xpath: "//span[contains(@id, 'select2-')]/../span[contains(@role, 'presentation')]" }

          - description: Select actor "Adam" in the list
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { css: "input[class*='select2-search__field']" }
              text: "Adam"

          - description: Type enter to select first option
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { css: "input[class*='select2-search__field']" }
              key: ENTER

          - description: Validate that the "Adam Sandler" is displayed in the input
            action: org.getopentest.selenium.AssertAttributeValue
            args:
              locator: { xpath: "//span[contains(@id, 'select2-')]" }
              attribute: title
              value: Adam Sandler

          - description: Validate that index 1 is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { css: "p[class*='ng-binding']" }
              textContains: "Ator selecionado: 1"
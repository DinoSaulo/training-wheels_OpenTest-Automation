description: |
  Navigate in the Training Wheels Protocol website and test the register and login feature
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the Training Wheels Protocol homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/

          - description: Click the login link in the page
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/access']"}

          - description: Typing new user login
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { xpath: "//form[contains(@id, 'signup')]//input[contains(@name, 'username')]" }
              text: 'saulo'

          - description: Typing correct password
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { xpath: "//form[contains(@id, 'signup')]//input[contains(@name, 'password')]" }
              text: 'OpenTestEhBacana'

          - description: Click in the "Criar Conta" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "a[onclick='signUp()']" }

          - description: Validate that success message is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "result" }
              textContains: "Dados enviados. Aguarde aprovação do seu cadastro!"

          ###

          - description: Reload the page
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/access

          - description: Typing only the user
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { xpath: "//form[contains(@id, 'signup')]//input[contains(@name, 'username')]" }
              text: saulo

          - description: Click in the "Criar Conta" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "a[onclick='signUp()']" }

          - description: Validate that error message is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "error" }
              textContains: "Ops. Cadê senha?"

          ###

          - description: Reload the page again
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/access

          - description: Typing only the password
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { xpath: "//form[contains(@id, 'signup')]//input[contains(@name, 'password')]" }
              text: OpenTestEhBacana

          - description: Click in the "Criar Conta" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "a[onclick='signUp()']" }

          - description: Validate that error message is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "error" }
              textContains: "Ops. Faltou informar o usuário."
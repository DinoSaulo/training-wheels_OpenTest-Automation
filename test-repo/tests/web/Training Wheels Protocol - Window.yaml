description: |
  Navigate in the Training Wheels Protocol website and test open new tabs
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the Training Wheels Protocol homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/

          - description: Click the open new tabs link in the page
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/windows']"}

          - description: Validate the "Clique aqui" button contains the attribute target
            action: org.getopentest.selenium.AssertAttributeValue
            args:
              locator: { css: "a[href='/windows/new']" }
              attribute: target
              value: _blank

          - description: Removing the attribute to open a new tab clicking in the button
            action: org.getopentest.selenium.ExecuteScript
            args:
              script: |
                document.querySelectorAll("a[href='/windows/new']")[0].removeAttribute("target");

          - description: Click in the "Clique aqui" button
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/windows/new']"}

          - description: Validate the message in the new page
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { xpath: "//h3" }
              textContains: "Aqui temos uma nova janela \\o/"
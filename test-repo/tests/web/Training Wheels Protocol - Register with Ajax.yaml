description: |
  Navigate in the Training Wheels Protocol website and test the Ajax games register
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the Training Wheels Protocol homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/

          - description: Click the open Ajax games register link in the page
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/games']"}

          - description: Typing game name
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: game }
              text: "Horizon Zero Down"

          - description: Typing the price
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: price }
              text: "199"

          - description: Typing a description
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: desc }
              text: "Jogo muito bom!"

          - description: Click in the "Salvar" button
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "button[class*='save-game']"}

          - description: Validate the message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "form-game" }
              textContains: "Enviado os dados para o servidor..."

          - description: Validate the game title
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { xpath: "//table[@id='games']/tbody" }
              textContains: "Horizon Zero Down"

          - description: Validate the game description
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { xpath: "//table[@id='games']/tbody//tr[last()]/td[2]" }
              textContains: "Jogo muito bom!"

          - description: Validate the game price
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { xpath: "//table[@id='games']/tbody//tr[last()]/td[3]" }
              textContains: "R$ 199"

          ###

          - description: Click in the "Salvar" button
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "button[class*='save-game']"}

          - description: Validate the Swall alert title message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { css: "div[class='swal-title']" }
              textContains: "Oops!"

          - description: Validate the Swall alert message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { css: "div[class='swal-text']" }
              textContains: "Todos os campos são obrigatórios!"

          - description: Click in the "OK" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class*='swal-button--confirm']" }

          ###

          - description: Typing game name
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: game }
              text: "GTA V"

          - description: Typing the price
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: price }
              text: "-10"

          - description: Typing a description
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { id: desc }
              text: "Jogo bacana."

          - description: Click in the "Salvar" button
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "button[class*='save-game']"}

          - description: Validate the Swall alert title message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { css: "div[class='swal-title']" }
              textContains: "Oops!"

          - description: Validate the Swall alert message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { css: "div[class='swal-text']" }
              textContains: "O preço do jogo deve ser maior que zero!"

          - description: Click in the "OK" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class*='swal-button--confirm']" }

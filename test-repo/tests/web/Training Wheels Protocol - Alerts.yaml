description: |
  Navigate in the Training Wheels Protocol website and test the Javascript Alerts
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the Training Wheels Protocol homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/

          - description: Click the alerts link in the page
            action: org.getopentest.selenium.Click
            args:
              locator: {css: "a[href='/javascript_alerts']"}

          - description: Click in the "Alerta" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class='btn-success']" }

          # For some unknown reason when the alert is opened it is quickly closed by selenium, investigate the behavior...
          #- description: Read the text displayed in the dialog box
          #  action: org.getopentest.selenium.HandleModal
          #  args:
          #    perform: accept

          - description: Verify that the success message is displayed
            action: org.getopentest.selenium.AssertElementVisible
            args:
              locator: { id: result }

          - description: Validate the success message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "result" }
              textContains: "Você ativou um alerta JS"

          ###

          - description: Reload the page
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/javascript_alerts

          - description: Click in the "Confirma" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class='btn-primary']" }

          #- description: Read the text displayed in the dialog box
          #  action: org.getopentest.selenium.HandleModal
          #  args:
          #    perform: dismiss

          - description: Validate the unconfirmed message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "result" }
              textContains: "Mensagem não confirmada"

          ###

          - description: Reload the page again
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://training-wheels-protocol.herokuapp.com/javascript_alerts

          - description: Click in the "Prompt" button
            action: org.getopentest.selenium.Click
            args:
              locator: { css: "button[class='btn-info']" }

          #- description: Read the text displayed in the dialog box
          #  action: org.getopentest.selenium.HandleModal
          #  args:
          #    perform: sendKeys
          #    key: "Saulo"

          - description: Validate the message
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: { id: "result" }
              textContains: "Olá, null"
